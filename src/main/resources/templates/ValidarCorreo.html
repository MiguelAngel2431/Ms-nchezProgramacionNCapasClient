<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Validando tu correo...</title>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <body>
        <script>
            let timerInterval;
            Swal.fire({
                title: "Revisa tu correo 游닐",
                html: `
              <p>Te hemos enviado un enlace para validar tu cuenta.</p>
              <p>Por favor, verifica tu correo y haz clic en el enlace para continuar.</p>
              <br>
              <p>Esta ventana se cerrar치 autom치ticamente en <b></b> segundos si no se valida.</p>
            `,
                timer: 60000, // 1 minuto
                timerProgressBar: true,
                allowOutsideClick: false,
                allowEscapeKey: false,
                didOpen: () => {
                    Swal.showLoading();
                    const b = Swal.getHtmlContainer().querySelector('b');
                    timerInterval = setInterval(() => {
                        const secondsLeft = Math.ceil(Swal.getTimerLeft() / 1000);
                        b.textContent = secondsLeft;
                    }, 1000);
                },
                willClose: () => {
                    clearInterval(timerInterval);
                }
            }).then((result) => {
                // Si se cerr칩 autom치ticamente por tiempo
                if (result.dismiss === Swal.DismissReason.timer) {
                    // Redirigir al login
                    window.location.href = "/login?timeout";
                }
            });
        </script>
    </body>
</html>